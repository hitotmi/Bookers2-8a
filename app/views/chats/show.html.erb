<div class="chat-container">
  <div class="chat-topbar">
    <h2><%= @user.name %> さんとのチャット</h2>
  </div>
    <div class="chat-messages">
      <% @chats.each do |chat| %>
        <% if chat.user_id == current_user.id %>
          <div class="message self">
          <div class="message-body">
            <%= chat.message %>
          </div>
          </div>
        <% else %>
          <div class="message other">
            <div class="message-sender"><%= chat.user.name %></div>
            <div class="message-body">
              <%= chat.message %>
            </div>
          </div>
        <% end %>
      <% end %>
    </div>
  <div class="chat-form">
    <%= form_with model: @chat do |f| %>
      <div class="errors">
        <%= render "layouts/errors", obj: f.object %>
      </div>
      <%= f.text_field :message, placeholder: "メッセージを入力してください", autocomplete: "off" %>
      <%= f.hidden_field :room_id, value: @room.id %>
      <%= f.submit "送信" %>
    <% end %>
  </div>
</div>